# radiomanager-lib-dev
NRF24 Radio Manager Arduino Library

## Project Description

This project focuses on developing a secure radio communication library (currently based on the ESP32 platform) using the Nordic NRF24L01+ module. It features dynamic addressing management, message fragmentation, and encryption. The goal is to enable "on-the-field" pairing of devices using UID-based addressing (e.g. a random UID generated by the device itself) and to easily integrate this into various embedded applications such as fieldbus gateways, sensors and controllers.

### Why NRF24?

The NRF24L01+ is chosen for its cost-effectiveness, reliability, and ease of implementation. It offers integrated functions like ESB and automatic ACK, with other benefits especially related to using the 2.4 GHz band :
- Minimal regulatory constraints allowing transmission up to 100 mW for ranges of several hundred meters to several kilometers with the right antenna
- Channels available just above WiFi frequencies, avoiding interference with most WiFi devices and hotspots
- Unlike LoRa, there is no duty cycle limitation. 

This makes it a cost-effective wireless solution with decent data rates, capable of streaming data at several hundred kbps. 
With encryption, it becomes a powerful tool for industrial contexts and embedded applications.
Many "packaged" modules are available at a retail price of 5-10â‚¬, such as EBYTE E01-ML01DP5 or E01-2G4M27D with embedded power amplifier, used to test the library with success.

### Current Capabilities

The RadioManager library currently allows to easily implement communication capabilities with up to 5 other nodes in a point-to-point manner, with fully automatic pairing management and a user-friendly API for sending and receiving messages. The main.cpp file is a basic example that sets up a node with a unique ID (obtained from the ESP32 Mac address) and allows to pair with another node using a button. It transmits every message received on the Serial port to the 1st paired node in its list, and displays every message received on the Serial port. It also manages saving and restoring the configuration (list of paired nodes and their keys) from a file on the ESP32 Flash memory (SPIFFS) which could be integrated into the library at some point.

### Encryption Approach

The encryption approach is pragmatic, based on end-to-end encryption using a shared secret established between two nodes during the pairing process. The aim is to implement basic security measures in order to prevent eavesdropping and impersonation (even without knowing the key, an attacker could replay a message to execute an action at will if communicating with an industrial equipment for example). No serious measures are implemented to prevent the consequences of an attacker getting access to the hardware (no secure element, keys stored in plain text in memory), but as long as hardware remains physically safe, communication should remain secure and only vulnerable to jamming.

### Future Plans

In the next steps, I plan to enhance the RF24Mesh library to integrate these features (UID-based addressing, dynamic pairing, and encryption) for an even more powerful solution (automatic formation and reconfiguration of a mesh network with up to 200+ nodes). To limit the complexity of managing end-to-end encryption between all nodes (with list of keys maintained locally on each device), a unique shared key managed by the master node could be used to encrypt all regular point-to-point communications within the same mesh.

### Further Details

For a detailed understanding of the architecture and specifics, you can explore the code and the README of the RadioManager library. It provides insights into the library's structure and functionality.